@inherits GXOVnTComponent
@if (ViewModel.SelectedSystem == null)
{
    <MudAlert Severity="Severity.Error">
        No device selected, unable to continue
    </MudAlert>
}
else if (ViewModel.FailedToGetInfo)
{
    <MudAlert Severity="Severity.Error">
        Could not get the device information.
    </MudAlert>
}  
else if (ViewModel.DeviceInfo != null)
{
    <MudCard Elevation="2" Outlined="true">
        <MudCardHeader>
            <CardHeaderContent>
                <MudText Typo="Typo.h6">Device name: @ViewModel.SelectedSystem?.DeviceName</MudText>
            </CardHeaderContent>
        </MudCardHeader>

        <MudCardContent>
            <MudStack>
                <MudField Variant="Variant.Text">Id: @ViewModel.SelectedSystem?.Id</MudField>
                <MudField Variant="Variant.Text">Rssi: @ViewModel.SelectedSystem?.DeviceName</MudField>
                <MudField Variant="Variant.Text">Bluetooth State: @ViewModel.SelectedSystem?.DeviceState</MudField>
                <MudField Variant="Variant.Text">System Type: @ViewModel.DeviceInfo.GXOVnTSystemType?.Name</MudField>
                <MudField Variant="Variant.Text">System Configured: @ViewModel.DeviceInfo.SystemConfigured</MudField>
                <MudField Variant="Variant.Text">Firmware version: @ViewModel.DeviceInfo.FirmwareVersion</MudField>
            </MudStack>
        </MudCardContent>
    </MudCard>

    if (NeedConfirmation)
    {
        <MudAlert Severity="Severity.Warning">
            This system has been previously enrolled and provisioned. Are you sure you want to continue with the enrolment procedure, all
            current configurations and settings will be overwritten.<br/>
                    
            <MudCheckBox T="bool" ValueChanged="OnConfirmChanged" Label="Confirm" Value="ConfirmedContinue" ></MudCheckBox>
        </MudAlert>
    }
}

